<ng-container *ngIf="loading">
    <mat-progress-bar color="accent"
                      mode="indeterminate">
    </mat-progress-bar>
</ng-container>
<section *ngIf="!loading"
         class="locations"
         [ngClass]="transparentBackground">
    <mat-form-field class="locations-searchbar"
                    appearance="outline"
                    color="accent">
        <mat-label>Search for a location</mat-label>
        <input matInput [(ngModel)]="search">
        <button *ngIf="searchable"
                matSuffix
                mat-icon-button
                (click)="clearSearch()">
            <mat-icon>close</mat-icon>
        </button>
    </mat-form-field>
    <section>
        <mat-card *ngFor="let location of locations"
                  matRipple
                  [ngClass]="{'mat-elevation-z3' : locationIsSelected(location.index)}"
                  class="locations-card"
                  (click)="locationClicked(location.index)">
            <mat-card-header>
                <mat-icon *ngIf="locationIsSelected(location.index)"
                          mat-card-avatar>
                          check_circle
                </mat-icon>
                <mat-card-title>{{location.name}}, {{location.country}}</mat-card-title>
                <mat-card-subtitle>
                    {{location.latitude}}, {{location.longitude}}
                </mat-card-subtitle>
            </mat-card-header>
        </mat-card>
    </section>
</section>